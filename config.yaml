app:
  name: Pokemon Card Price Overlay
  version: 0.1.0
  debug: true
camera:
  source: 0
  width: 1280
  height: 720
  fps: 30
detection:
  # Use the bundled Pokemon card-specific detector (more reliable than COCO yolo11n.pt)
  model_path: models/pokemon_card_detector_latest.pt
  use_card_specific_model: true
  confidence_threshold: 0.35
  iou_threshold: 0.45
  max_detections: 6
identification:
  method: feature_matching
  min_matches: 10
  match_ratio_threshold: 0.75
feature_matching:
  detector: ORB
  descriptor: BEBLID
  n_features: 500
  match_method: FLANN
api:
  primary: pokemontcg
  fallback: pokemonpricetracker
  cache_ttl: 300
  rate_limit: 60
  timeout: 5
overlay:
  show_bounding_box: true
  show_confidence: true
  show_prices: true
  show_trends: true
  panel_opacity: 0.8
  font_scale: 0.6
performance:
  use_gpu: true
  num_threads: 4
  frame_skip: 0

# Image preprocessing pipeline configuration
preprocessing:
  enabled: true
  mode: balanced  # speed | balanced | quality

  # Pre-detection enhancement (applied to full frame before YOLO)
  detection:
    enabled: true
    techniques:
      - lighting_normalization
      - clahe_fast

  # Identification enhancement (applied to card crops before OCR/feature matching)
  identification:
    enabled: true
    techniques:
      - white_balance
      - clahe_enhanced
      # - glare_reduction    # Enable for holographic cards (adds ~2-3ms)
      # - shadow_removal     # Enable for angled lighting (adds ~2-3ms)

  # Technique-specific parameters
  clahe:
    clip_limit: 2.0
    tile_grid_size: [8, 8]

  glare:
    threshold: 240
    blur_kernel: 5
